import React from 'react';
// eslint-disable-next-line import/no-extraneous-dependencies
import { createRoot } from 'react-dom/client';
import AuthIDComponent from './authid-react-component';

const control = (msg, controlFace) => {
    console.dir(msg);
    if (msg.type === 'authid:control:loaded') {
        controlFace.setup({});
    }
};

const App = () => <AuthIDComponent url="https://id.authid.ai/?demo" webauth control={control} />;

// eslint-disable-next-line react/no-render-return-value
document.addEventListener('DOMContentLoaded', () => {
    const root = createRoot(document.getElementById('main'));
    root.render(<App />);
    window.shutdownExample = () => {
        root.render(<div />);
    };
    console.log('Hello authID!');
});
